---
title: 恶补网络基础之DNS
createdAt: 1732626916250
tags: 网络基础
cover: https://img.linzip.com/banner.webp
category: 开发
city: 深圳
province: 广东
country: 中国
---

# 复习也是重新学习

其实是一直很排斥八股文的，但是面试的时候是真的问。很多东西就是一知半解。比如今天提及的从输入一个url到页面展示中间发生了什么。能大概说出来一个简单的过程，比如输入后先进行DNS寻址，然后建立TCP连接，之后连接完成发送请求，拿到Html等静态文件，开始生成DOM树，CSSOM树，然后生成渲染树。将渲染树拿来计算位置等信息，最后则是调用GPU进行渲染。但是这其中的很多东西都可以拿出来深入讲解，这就不是很懂了。知道DNS的查找的一些，知道TCP连接的一些内容。可是具体的就是一问三不知。好吧，只能学习然后记录笔记了。

今日份面试题：

1. 请说说React的fiber架构
2. DNS是什么，怎么查询的
3. TCP是什么
4. HTTP和HTTPS有什么区别
5. VUE和MOBX的区别是什么
6. React的渲染过程是什么样的
7. forWardRef用过吗？使用场景是什么。
8. 讲一讲script里面的async和defer
9. CDN的作用是什么
10. 如何实现手机、平板、电脑三端登陆后，如果有相同设备登陆就踢掉另外一台相同类型的设备
11. react和vue的区别
12. 输入网址到浏览器渲染这其中可以做一些什么优化
13. 说一说hooks的实现原理
14. React.memo的第二个参数是什么，如果第一个参数传递一个数组或者对象会发生什么
15. 设计模式

# DNS

域名系统（DNS）是互联网的电话簿。我们首先要知道，互联网的每台设备都是有ip地址的。而我们访问某个网址，实际上就是访问某个设备，域名只不过是提供给记忆的，毕竟谁能记住`191.199.111.122`这种乱码呢，电话号都不会记住的我表示一个也记不住。所以域名也可以理解是一种别名，最终还是要访问到设备ip的。所以，Web浏览器是通过 [互联网协议](https://www.cloudflare.com/learning/network-layer/internet-protocol/) （IP）地址进行交互。DNS将域名转换为IP地址，以便浏览器能够加载互联网资源。

好的，那么域名转换为ip的这个过程，也叫做dns解析过程。

## 域名结构树

其实DNS解析与图书馆找书很类似。都是索引查找。一般查找Javascript红宝书是从图书馆的计算机类目开始查找，dns解析也是这样一层一层查找。而DNS解析的根是由一群服务器组成，是13个域名管理，而13个域名是由12个独立机构运营。13个域名由很多服务器进行管理。大概有一千多个节点。

但是大多数服务器的节点ip一致，dns查找会找到最近的dns服务器，如何查找到最近的dns服务器呢。就是通过**任播**，这个还没有过多了解。

## 域名服务器

`www.linzip.com`

类似于这样的域名，其实是有三部分组成，从左到右，排除www，www属于是三级域名，类似于`mail.linzip.com`、`xxx.linzip.com`。这种都是三级域名。那么实际上从左到右，`linzip.com`，这里后面还隐藏了一个.，但是由于到了末尾，所以这里的`.`已经到头了，一般就都忽略了。所以域名结构其实是`linzip`是权威域名服务器，`.com`是顶级域名服务器，当然还包括其他域名，比如`.cn`、`.net`...，而最后省略的`.`则是根域名服务器。

根域名服务器管理顶级域名服务器，顶级域名服务器挂里权威域名服务器，权威域名服务器管理各自主机。

## 域名解析过程

DNS解析是先看浏览器有没有对应ip地址，查询本地文件是否有记录，如果有的话就不必要继续查询，直接返回ip地址。浏览器需要调用域名解析器去查询，解析器相当于DNS客户端，DNS为什么可以找到DNS服务器，是因为电脑里面都有配置，比如有些时候我们会需改DNS解析起到8.8.8.8。所以是可以查找到的。本地DNS服务器一般由运营商提供。本地DNS服务器如果有结果就会返回非权威的ip地址，因为本地DNS服务器不接管域名，所以非权威。

如果本地DNS服务器没有找到结果，先会去查询根服务器，返回根服务器的服务器地址，根服务器会去查询根顶级域名服务器，返回顶级域名服务器的ip地址，顶级域名服务器会去查询权威服务器，返回权威服务器的ip地址给本地DNS服务器，本地DNS服务器发送ip到解析器。解析器发送给浏览器，DNS查询结束。解析器和本地服务器使用的是地递归式的方式传递，被地DNS服务器和三层服务器的查询过程使用迭代。
